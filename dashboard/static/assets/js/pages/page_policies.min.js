var save_xhr,PoliciesModalWindow,$PoliciesScheduleSelect,PoliciesScheduleSelect,schedule_xhr,$PoliciesSourceZoneSelect,PoliciesSourceZoneSelect,sourcezone_xhr,$PoliciesDestinationZoneSelect,PoliciesDestinationZoneSelect,destinationzone_xhr,$PoliciesSourceNetworkSelect,PoliciesSourceNetworkSelect,sourcenetwork_xhr,$PoliciesDestinationNetworkSelect,PoliciesDestinationNetworkSelect,destinationnetwork_xhr,$PoliciesSourceServiceSelect,PoliciesSourceServiceSelect,sourceservice_xhr,$PoliciesDestinationServiceSelect,PoliciesDestinationServiceSelect,destinationservice_xhr,$PoliciesSnatToSelect,PoliciesSnatToSelect,snatto_xhr,$PoliciesDnatToSelect,PoliciesDnatToSelect,dnatto_xhr,CurrentPage=1;$(function(){Policies.loadTable(),Policies.init(),Policies.save(),Policies.char_words_counter(),Policies.form_validator(),Policies.loadAllSelects(),Policies.loadElementsEvent()}),Policies={init:function(){$(document).ready(function(){PoliciesModalWindow=UIkit.modal("#window_Policies")})},add:function(){PoliciesModalWindow.isActive()?PoliciesModalWindow.hide():PoliciesModalWindow.show(),$("#window_policies_title").text(" Add new policy "),$("#window_policies_id").val("0"),$("#window_policies_row").val(parseInt($("#records_number").val())+1),$("#window_policies_status").iCheck("check"),$("#window_policies_log").iCheck("uncheck"),$("#window_policies_name").val(""),$("#window_policies_desc").val(""),$("#window_policies_action_accept").iCheck("check"),PoliciesScheduleSelect.setValue(),PoliciesSourceZoneSelect.setValue(),PoliciesSourceNetworkSelect.setValue(),PoliciesSourceServiceSelect.setValue(),PoliciesDestinationZoneSelect.setValue(),PoliciesDestinationNetworkSelect.setValue(),PoliciesDestinationServiceSelect.setValue(),$("#window_policies_snatenabled").iCheck("unckeck"),$("#window_policies_snatpolicy_snat").iCheck("disable"),PoliciesSnatToSelect.setValue(),PoliciesSnatToSelect.disable(),$("#window_policies_snatpolicy_masq").iCheck("disable"),$("#window_policies_snatpolicy_masq").iCheck("ckeck"),$("#window_policies_dnatenabled").iCheck("unckeck"),PoliciesDnatToSelect.setValue(),PoliciesDnatToSelect.disable(),$("#window_policies_name").focus()},edit:function(a){var b=a.id.split("-");PoliciesModalWindow.isActive()?PoliciesModalWindow.hide():PoliciesModalWindow.show(),$.getJSON("/policies/view",{PoliciesId:b[2]},function(a){switch($("#window_policies_title").text(" Edit policy ( "+a[0].Name+" ) "),$("#window_policies_id").val(a[0].PoliciesId),$("#window_policies_row").val(b[1]),a[0].Status===!0&&$("#window_policies_status").iCheck("check"),a[0].Log===!0&&$("#window_policies_log").iCheck("check"),$("#window_policies_name").val(a[0].Name),$("#window_policies_desc").val(a[0].Description),a[0].Action){case"accept":$("#window_policies_action_accept").iCheck("check");break;case"drop":$("#window_policies_action_drop").iCheck("check");break;case"reject":$("#window_policies_action_reject").iCheck("check")}if(PoliciesScheduleSelect.setValue([a[0].Schedule]),PoliciesSourceZoneSelect.setValue([a[0].SourceZone]),PoliciesSourceNetworkSelect.setValue([a[0].SourceNetwork]),PoliciesSourceServiceSelect.setValue([a[0].SourceService]),PoliciesDestinationZoneSelect.setValue([a[0].DestinationZone]),PoliciesDestinationNetworkSelect.setValue([a[0].DestinationNetwork]),PoliciesDestinationServiceSelect.setValue([a[0].DestinationService]),a[0].SnatEnabled===!0)switch($("#window_policies_snatenabled").iCheck("check"),a[0].SnatPolicy){case"snat":$("#window_policies_snatpolicy_snat").iCheck("check"),PoliciesSnatToSelect.setValue([a[0].SnatTo]);break;case"masq":$("#window_policies_snatpolicy_masq").iCheck("check")}a[0].DnatEnabled===!0&&($("#window_policies_dnatenabled").iCheck("check"),PoliciesDnatToSelect.setValue([a[0].DnatTo]))}),$("#window_policies_name").focus()},remove:function(a){var b=a,c=a.id.split("-");UIkit.modal.confirm("Are you sure you want to delete this item?",function(){$.ajax({type:"POST",url:"/policies/delete",data:{PoliciesId:c[2]},dataType:"json",success:function(a){setTimeout(UIkit.notify({message:a.Message,status:a.Status,timeout:2e3,pos:"top-center"}),5e3),"OK"===a.Result&&(b.closest("li").remove(),$("#records_number").val(parseInt($("#records_number").val())-1),Policies.reloadTable(CurrentPage))}})})},isNotValid:function(a){var b=a.parsley();return!b.isValid()},save:function(){$("#window_policies_save").click(function(){var b=($("#window_policies_row").val(),$("#window_policies_id").val()),c="off";$("#window_policies_status").on("ifChecked",function(a){policy_status="on"});var d="off";$("#window_policies_log").is(":checked")&&(d="on");var e="";if(e=$("#window_policies_name"),!Policies.isNotValid(e)){var f=e.val();if(e=$("#window_policies_desc"),!Policies.isNotValid(e)){var g=e.val(),h="accept";$("#window_policies_action_drop").is(":checked")?h="drop":$("#window_policies_action_reject").is(":checked")&&(h="reject");var i=PoliciesScheduleSelect.getValue(),j=PoliciesSourceZoneSelect.getValue(),k=PoliciesSourceNetworkSelect.getValue(),l=PoliciesSourceServiceSelect.getValue(),m=PoliciesDestinationZoneSelect.getValue(),n=PoliciesDestinationNetworkSelect.getValue(),o=PoliciesDestinationServiceSelect.getValue(),p="off",q="off",r="",s="",t="";$("#window_policies_snatenabled").on("ifChecked",function(a){p="on",$("#window_policies_snatpolicy_snat").on("ifChecked",function(a){r="snat",s=PoliciesSnatToSelect.getValue()}),$("#window_policies_snatpolicy_masq").on("ifChecked",function(a){r="masq"})}),$("#window_policies_snatenabled").on("ifChecked",function(a){q="on",t=PoliciesDnatToSelect.getValue()}),$("#window_policies_save").addClass("disabled");var u="";u="0"===b?"/policies/create":"/policies/update",save_xhr&&save_xhr.abort(),save_xhr=$.ajax({type:"POST",url:u,data:{PoliciesId:b,Status:c,Log:d,Name:f,Description:g,Action:h,Schedule:i,SourceZone:j,SourceNetwork:k,SourceService:l,DestinationZone:m,DestinationNetwork:n,DestinationService:o,SnatEnabled:p,SnatPolicy:r,SnatTo:s,DnatEnabled:q,DnatTo:t},dataType:"json",success:function(a){$("#window_policies_save").removeClass("disabled"),"OK"==a.Result?(PoliciesModalWindow.hide(),Policies.reloadTable(CurrentPage),setTimeout(UIkit.notify({message:a.Message,status:a.Status,timeout:2e3,pos:"top-center"}),5e3)):"DUP"==a.Result&&($("#invalid-form-error-message").text(a.Message),$("#window_policies_name").select(),Policies.fadeInvalidFormErrorMessage())}})}}})},loadAllSelects:function(){Policies.initScheduleSelect(),Policies.initSourceZoneSelect(),Policies.initDestinationZoneSelect(),Policies.initSourceNetworkSelect(),Policies.initDestinationNetworkSelect(),Policies.initSourceServiceSelect(),Policies.initDestinationServiceSelect(),Policies.initSnatToSelect(),Policies.initDnatToSelect()},unloadAllSelects:function(){PoliciesScheduleSelect.destroy(),PoliciesSourceZoneSelect.destroy(),PoliciesDestinationZoneSelect.destroy(),PoliciesSourceNetworkSelect.destroy(),PoliciesDestinationNetworkSelect.destroy(),PoliciesSourceServiceSelect.destroy(),PoliciesDestinationServiceSelect.destroy(),PoliciesSnatToSelect.destroy(),PoliciesDnatToSelect.destroy()},refreshTable:function(){$("#record_table li:first:contains('No data')").remove(),"0"==$("#records_number").val()&&($("ul#record_table").append($("<li>").append($("<div>").attr("class","md-card").append($("<div>").attr("class","md-card-content").append($("<div>").attr({class:"uk-grid uk-grid-medium","data-uk-grid-margin":"","data-uk-grid-match":"{target:'.md-card'}"}).append($("<div>").attr("class","uk-width-1-1 uk-text-center").append($("<span>").attr("class","uk-text-large uk-text-bold uk-text-danger").text("No data available!"))))))),$("ul#pagination").empty())},clearTable:function(){$("ul#record_table").empty(),$("ul#pagination").empty()},loadPagination:function(a,b,c){if(0===c)return!1;total_pages=Math.ceil(c/b);var d=a<=1,e=a>=total_pages,f=a-1,g=a+1;for(d?$("ul#pagination").append($("<li>").attr("class","uk-disabled").append($("<span>").append($("<i>").attr("class","uk-icon-angle-double-left")))).append($("<li>").attr("class","uk-disabled").append($("<span>").append($("<i>").attr("class","uk-icon-angle-left")))):$("ul#pagination").append($("<li>").append($("<a>").attr({href:"#",onclick:"Policies.reloadTable( 1,"+b+")"}).append($("<i>").attr("class","uk-icon-angle-double-left")))).append($("<li>").append($("<a>").attr({href:"#",onclick:"Policies.reloadTable("+f+","+b+")"}).append($("<i>").attr("class","uk-icon-angle-left")))),index_page=1;index_page<total_pages+1;index_page++)a==index_page?$("ul#pagination").append($("<li>").attr("class","uk-active").append($("<span>").text(index_page))):$("ul#pagination").append($("<li>").append($("<a>").attr({href:"#",onclick:"Policies.reloadTable("+index_page+","+b+")"}).text(index_page)));e?$("ul#pagination").append($("<li>").attr("class","uk-disabled").append($("<span>").append($("<i>").attr("class","uk-icon-angle-right")))).append($("<li>").attr("class","uk-disabled").append($("<span>").append($("<i>").attr("class","uk-icon-angle-double-right")))):$("ul#pagination").append($("<li>").append($("<a>").attr({href:"#",onclick:"Policies.reloadTable("+g+","+b+")"}).append($("<i>").attr("class","uk-icon-angle-right")))).append($("<li>").append($("<a>").attr({href:"#",onclick:"Policies.reloadTable( "+total_pages+","+b+")"}).append($("<i>").attr("class","uk-icon-angle-double-right")))),CurrentPage=a},reloadTable:function(a,b){Policies.clearTable(),Policies.loadTable(a,b)},loadTable:function(a,b){$("#page_size").length&&($("#page_size").selectize({plugins:{remove_button:{label:""}},options:[{id:5,title:"5"},{id:10,title:"10"},{id:25,title:"25"},{id:50,title:"50"},{id:100,title:"100"},{id:250,title:"250"},{id:500,title:"500"}],maxItems:1,valueField:"id",labelField:"title",searchField:"title",create:!1,onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})},onChange:function(){Policies.reloadTable(CurrentPage)}}),$("#page_size option:selected").each(function(){b=$(this).text()})),a="undefined"!=typeof a?a:1,b="undefined"!=typeof b?b:5;var c=(a-1)*b,d=0,e=!1;$.ajax({type:"GET",url:"/policies/read",data:{StartIndex:c,PageSize:b},dataType:"json",success:function(c){d=c.TotalRecordCount,e=c.Records.length!=d&&0===c.Records.length&&0!==d,e?Policies.loadTable(--a,b):(Policies.perform(c.Records,"drawTable"),Policies.loadPagination(a,b,d))}})},perform:function(a,b){var c=$("#window_policies_row").val();"drawTable"===b&&(c=0),$.each(a,function(a,d){if("drawTable"===b&&(c=a+1),"editRow"===b)$("#name-"+c).text(d.Name),$("#description-"+c).text(d.Description),$("#action-"+c).text("Action: "+d.Action),$("#schedule-"+c).text("Schedule: "+d.Schedule),$("#sourcezone-"+c).text("SourceZone: "+d.SourceZone),$("#sourcenetwork-"+c).text(d.SourceNetwork),$("#sourceservice-"+c).text(d.SourceService),$("#destinationzone-"+c).text(d.DestinationZone),$("#destinationnetwork-"+c).text(d.DestinationNetwork),$("#destinationservice-"+c).text(d.DestinationService),d.Status===!0?($("#status_anchor-"+c).attr("title","Enabled"),$("#status_image-"+c).attr({alt:"Enabled",src:"/static/assets/img/md-images/toggle-switch.png"})):($("#status_anchor-"+c).attr("title","Disabled"),$("#status_image-"+c).attr({alt:"Disabled",src:"/static/assets/img/md-images/toggle-switch-off.png"})),d.Log===!0?($("#log_anchor-"+c).attr("title","Log is on"),$("#log_image-"+c).attr({alt:"Log is on",src:"/static/assets/img/md-images/gateway-on.png"})):($("#log_anchor-"+c).attr("title","Log is off"),$("#log_image-"+c).attr({alt:"Log is off",src:"/static/assets/img/md-images/gateway-off.png"}));else{var e="Disabled",f="/static/assets/img/md-images/toggle-switch-off.png";d.Status===!0&&(e="Enabled",f="/static/assets/img/md-images/toggle-switch.png");var g="Log is off",h="/static/assets/img/md-images/gateway-off.png";d.Log===!0&&(g="Log is on",h="/static/assets/img/md-images/gateway-on.png"),$("ul#record_table").append($("<li>").append($("<div>").attr("class","md-card").append($("<div>").attr("class","md-card-content").append($("<div>").attr({class:"uk-grid uk-grid-medium","data-uk-grid-margin":"","data-uk-grid-match":"{target:'.md-card'}"}).append($("<div>").attr("class","uk-width-2-10").append($("<div>").attr("class","uk-grid").append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-large",id:"name-"+c}).text(d.Name))).append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small uk-text-truncate",id:"description-"+c}).text(d.Description))))).append($("<div>").attr("class","uk-width-2-10").append($("<div>").attr("class","uk-grid").append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"sourcenetwork-"+c}).text(d.SourceNetwork))).append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"sourcezone-"+c}).text(d.SourceZone))).append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"sourceservice-"+c}).text(d.SourceService))))).append($("<div>").attr("class","uk-width-2-10").append($("<div>").attr("class","uk-grid").append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"destinationnetwork-"+c}).text(d.DestinationNetwork))).append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"destinationzone-"+c}).text(d.DestinationZone))).append($("<div>").attr("class","uk-width-1-1").append($("<span>").attr({class:"uk-text-muted uk-text-small",id:"destinationservice-"+c}).text(d.DestinationService))))).append($("<div>").attr("class","uk-width-4-10").append($("<div>").attr({class:"uk-grid uk-grid-medium","data-uk-grid-margin":"","data-uk-grid-match":"{target:'.md-card'}"}).append($("<div>").attr("class","uk-width-1-4").append($("<a>").attr({"data-uk-tooltip":"{cls:'uk-tooltip-small',pos:'top-left',animation:'true'}",title:e,style:"cursor:default;",href:"#",id:"status_anchor-"+c+"-"+d.PoliciesId}).append($("<img>").attr({src:f,alt:e,id:"status_image-"+c+"-"+d.PoliciesId})))).append($("<div>").attr("class","uk-width-1-4").append($("<a>").attr({"data-uk-tooltip":"{cls:'uk-tooltip-small',pos:'top-left',animation:'true'}",title:g,style:"cursor:default;",href:"#",id:"log_anchor-"+c+"-"+d.PoliciesId}).append($("<img>").attr({src:h,alt:g,id:"link_image-"+c+"-"+d.PoliciesId})))).append($("<div>").attr("class","uk-width-1-4").append($("<a>").attr({"data-uk-tooltip":"{cls:'uk-tooltip-small',pos:'top-left',animation:'true'}",title:"Delete",onclick:"Policies.remove(this)",href:"#",id:"delete_Policies-"+c+"-"+d.PoliciesId}).append($("<img>").attr({src:"/static/assets/img/md-images/delete.png",alt:"Delete"})))).append($("<div>").attr("class","uk-width-1-4").append($("<a>").attr({"data-uk-tooltip":"{cls:'uk-tooltip-small',pos:'top-left',animation:'true'}",title:"Edit",onclick:"Policies.edit(this)",href:"#",id:"edit_Policies-"+c+"-"+d.PoliciesId}).append($("<img>").attr({src:"/static/assets/img/md-images/pencil.png",alt:"Edit"})))))))))),$("#records_number").val(c)}}),Policies.refreshTable()},initScheduleSelect:function(){$PoliciesScheduleSelect=$("#window_policies_schedule").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesScheduleSelect=$PoliciesScheduleSelect[0].selectize,PoliciesScheduleSelect.load(function(a){schedule_xhr&&schedule_xhr.abort(),schedule_xhr=$.ajax({url:"/objects/schedule/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initSourceZoneSelect:function(){$PoliciesSourceZoneSelect=$("#window_policies_sourcezone").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesSourceZoneSelect=$PoliciesSourceZoneSelect[0].selectize,PoliciesSourceZoneSelect.load(function(a){sourcezone_xhr&&sourcezone_xhr.abort(),sourcezone_xhr=$.ajax({url:"/objects/zone/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initDestinationZoneSelect:function(){$PoliciesDestinationZoneSelect=$("#window_policies_destinationzone").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesDestinationZoneSelect=$PoliciesDestinationZoneSelect[0].selectize,PoliciesDestinationZoneSelect.load(function(a){destinationzone_xhr&&destinationzone_xhr.abort(),destinationzone_xhr=$.ajax({url:"/objects/zone/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initSourceNetworkSelect:function(){var a="(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";$PoliciesSourceNetworkSelect=$("#window_policies_sourcenetwork").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},createFilter:function(b){var c,d;return d=new RegExp("^"+a+"$","i"),(c=b.match(d))?!this.options.hasOwnProperty(c[0]):(d=new RegExp("^([^<]*)<"+a+">$","i"),c=b.match(d),!!c&&!this.options.hasOwnProperty(c[2]))},create:function(b){if(new RegExp("^"+a+"$","i").test(b))return{value:b};var c=b.match(new RegExp("^([^<]*)<"+a+">$","i"));return c?{value:c[2],name:$.trim(c[1])}:(alert("Invalid value address."),!1)},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesSourceNetworkSelect=$PoliciesSourceNetworkSelect[0].selectize,PoliciesSourceNetworkSelect.load(function(a){sourcenetwork_xhr&&sourcenetwork_xhr.abort(),sourcenetwork_xhr=$.ajax({url:"/objects/address/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initDestinationNetworkSelect:function(){var a="(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";$PoliciesDestinationNetworkSelect=$("#window_policies_destinationnetwork").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},createFilter:function(b){var c,d;return d=new RegExp("^"+a+"$","i"),(c=b.match(d))?!this.options.hasOwnProperty(c[0]):(d=new RegExp("^([^<]*)<"+a+">$","i"),c=b.match(d),!!c&&!this.options.hasOwnProperty(c[2]))},create:function(b){if(new RegExp("^"+a+"$","i").test(b))return{value:b};var c=b.match(new RegExp("^([^<]*)<"+a+">$","i"));return c?{value:c[2],name:$.trim(c[1])}:(alert("Invalid value address."),!1)},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesDestinationNetworkSelect=$PoliciesDestinationNetworkSelect[0].selectize,PoliciesDestinationNetworkSelect.load(function(a){destinationnetwork_xhr&&destinationnetwork_xhr.abort(),destinationnetwork_xhr=$.ajax({url:"/objects/address/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initSourceServiceSelect:function(){$PoliciesSourceServiceSelect=$("#window_policies_sourceservice").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesSourceServiceSelect=$PoliciesSourceServiceSelect[0].selectize,PoliciesSourceServiceSelect.load(function(a){sourceservice_xhr&&sourceservice_xhr.abort(),sourceservice_xhr=$.ajax({url:"/objects/protocol/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initDestinationServiceSelect:function(){$PoliciesDestinationServiceSelect=$("#window_policies_destinationservice").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesDestinationServiceSelect=$PoliciesDestinationServiceSelect[0].selectize,PoliciesDestinationServiceSelect.load(function(a){destinationservice_xhr&&destinationservice_xhr.abort(),destinationservice_xhr=$.ajax({url:"/objects/protocol/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initSnatToSelect:function(){var a="(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";$PoliciesSnatToSelect=$("#window_policies_snatto").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},createFilter:function(b){var c,d;return d=new RegExp("^"+a+"$","i"),(c=b.match(d))?!this.options.hasOwnProperty(c[0]):(d=new RegExp("^([^<]*)<"+a+">$","i"),c=b.match(d),!!c&&!this.options.hasOwnProperty(c[2]))},create:function(b){if(new RegExp("^"+a+"$","i").test(b))return{value:b};var c=b.match(new RegExp("^([^<]*)<"+a+">$","i"));return c?{value:c[2],name:$.trim(c[1])}:(alert("Invalid value address."),!1)},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesSnatToSelect=$PoliciesSnatToSelect[0].selectize,PoliciesSnatToSelect.load(function(a){snatto_xhr&&snatto_xhr.abort(),snatto_xhr=$.ajax({url:"/objects/address/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},initDnatToSelect:function(){var a="(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";$PoliciesDnatToSelect=$("#window_policies_dnatto").selectize({plugins:{remove_button:{label:""}},maxItems:1,valueField:"value",labelField:"name",searchField:["name","value"],options:[],render:{item:function(a,b){return"<div>"+(a.name?'<span class="name">'+b(a.name)+"</span>":"")+(a.value?'<span class="email">'+b(a.value)+"</span>":"")+"</div>"},option:function(a,b){var c=a.name||a.value,d=a.name?a.value:null;return'<div><span class="label">'+b(c)+"</span>"+(d?'<span class="caption">'+b(d)+"</span>":"")+"</div>"}},createFilter:function(b){var c,d;return d=new RegExp("^"+a+"$","i"),(c=b.match(d))?!this.options.hasOwnProperty(c[0]):(d=new RegExp("^([^<]*)<"+a+">$","i"),c=b.match(d),!!c&&!this.options.hasOwnProperty(c[2]))},create:function(b){if(new RegExp("^"+a+"$","i").test(b))return{value:b};var c=b.match(new RegExp("^([^<]*)<"+a+">$","i"));return c?{value:c[2],name:$.trim(c[1])}:(alert("Invalid value address."),!1)},onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),PoliciesDnatToSelect=$PoliciesDnatToSelect[0].selectize,PoliciesDnatToSelect.load(function(a){dnatto_xhr&&dnatto_xhr.abort(),dnatto_xhr=$.ajax({url:"/objects/address/getlist",type:"GET",dataType:"json",success:function(b){a(b)},error:function(){console.log("error has occured!!!"),a()}})})},char_words_counter:function(){var a=$(".input-count");a.length&&(!function(a){"use strict";a.fn.extend({counter:function(b){var c={type:"char",count:"down",goal:140,text:!0,target:!1,append:!0,translation:"",msg:"",container_class:""},d="",e="",f=!1,b=a.extend({},c,b),g={init:function(c){var e=c.attr("id"),f=e+"_count";g.isLimitless(),d=a("<span id="+f+"/>");var h=a("<div/>").attr("id",e+"_counter").append(d).append(" "+g.setMsg());b.container_class&&b.container_class.length&&h.addClass(b.container_class),b.target&&a(b.target).length?b.append?a(b.target).append(h):a(b.target).prepend(h):b.append?h.insertAfter(c):h.insertBefore(c),g.bind(c)},bind:function(a){a.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",g.updateCounter),a.bind("keydown.counter",g.doStopTyping),a.trigger("keydown")},isLimitless:function(){if("sky"===b.goal)return b.count="up",f=!0},setMsg:function(){if(""!==b.msg)return b.msg;if(b.text===!1)return"";if(f)return""!==b.msg?b.msg:"";switch(this.text=b.translation||"character word left max",this.text=this.text.split(" "),this.chars="s ( )".split(" "),this.msg=null,b.type){case"char":b.count===c.count&&b.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===b.count&&b.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+b.goal+" "+this.text[3]+this.chars[2]);break;case"word":b.count===c.count&&b.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===b.count&&b.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+b.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(b){return""!==b?a.trim(b).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(f){var h=a(this);(e<0||e>b.goal)&&g.passedGoal(h),b.type===c.type?b.count===c.count?(e=b.goal-h.val().length,e<=0?d.text("0"):d.text(e)):"up"===b.count&&(e=h.val().length,d.text(e)):"word"===b.type&&(b.count===c.count?(e=g.getWords(h.val()),e<=b.goal?(e=b.goal-e,d.text(e)):d.text("0")):"up"===b.count&&(e=g.getWords(h.val()),d.text(e)))},doStopTyping:function(a){var d=[46,8,9,35,36,37,38,39,40,32];if(g.isGoalReached(a)&&a.keyCode!==d[0]&&a.keyCode!==d[1]&&a.keyCode!==d[2]&&a.keyCode!==d[3]&&a.keyCode!==d[4]&&a.keyCode!==d[5]&&a.keyCode!==d[6]&&a.keyCode!==d[7]&&a.keyCode!==d[8])return b.type!==c.type&&(a.keyCode!==d[9]&&a.keyCode!==d[1]&&b.type!=c.type)},isGoalReached:function(a,d){return!f&&(b.count===c.count?(d=0,e<=d):(d=b.goal,e>=d))},wordStrip:function(b,c){var d=c.replace(/\s+/g," ").split(" ").length;return c=a.trim(c),b<=0||b===d?c:(c=a.trim(c).split(" "),c.splice(b,d,""),a.trim(c.join(" ")))},passedGoal:function(a){var c=a.val();"word"===b.type&&a.val(g.wordStrip(b.goal,c)),"char"===b.type&&a.val(c.substring(0,b.goal)),"down"===b.type&&d.val("0"),"up"===b.type&&d.val(b.goal)}};return this.each(function(){g.init(a(this))})}})}(jQuery),a.each(function(){var a=$(this),b=$(this).attr("maxlength")?$(this).attr("maxlength"):80;a.counter({container_class:"text-count-wrapper",msg:" / "+b,goal:b,count:"up"}),a.closest(".md-input-wrapper").length&&a.closest(".md-input-wrapper").addClass("md-input-wrapper-count")}))},fadeInvalidFormErrorMessage:function(){$("#invalid-form-error-window").css("display","inline").fadeToggle(4e3)},form_validator:function(){var a=$("#window_policies_form");a.parsley().on("form:validated",function(){altair_md.update_input(a.find(".md-input-danger"))}).on("field:validated",function(a){$(a.$element).hasClass("md-input")&&altair_md.update_input($(a.$element))})},loadElementsEvent:function(){$("#window_policies_snatenabled").on("ifChecked",function(a){$("#window_policies_snatpolicy_snat").iCheck("enable"),PoliciesSnatToSelect.enable(),$("#window_policies_snatpolicy_masq").iCheck("enable")}),$("#window_policies_snatenabled").on("ifUnchecked",function(a){$("#window_policies_snatpolicy_snat").iCheck("disable"),PoliciesSnatToSelect.disable(),$("#window_policies_snatpolicy_masq").iCheck("disable")}),$("#window_policies_snatpolicy_snat").on("ifChecked",function(a){
PoliciesSnatToSelect.enable()}),$("#window_policies_snatpolicy_snat").on("ifUnchecked",function(a){PoliciesSnatToSelect.disable()}),$("#window_policies_dnatenabled").on("ifChecked",function(a){PoliciesDnatToSelect.enable()}),$("#window_policies_dnatenabled").on("ifUnchecked",function(a){PoliciesDnatToSelect.disable()})}};