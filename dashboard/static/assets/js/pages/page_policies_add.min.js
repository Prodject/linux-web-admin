$(function(){altair_form_adv.char_words_counter(),altair_form_adv.rangeSlider(),altair_form_adv.adv_selects(),altair_form_adv.masked_inputs()}),altair_form_adv={char_words_counter:function(){var i=$(".input-count");i.length&&(!function(i){"use strict";i.fn.extend({counter:function(t){var e={type:"char",count:"down",goal:140,text:!0,target:!1,append:!0,translation:"",msg:"",container_class:""},n="",r="",a=!1,t=i.extend({},e,t),o={init:function(e){var r=e.attr("id"),a=r+"_count";o.isLimitless(),n=i("<span id="+a+"/>");var l=i("<div/>").attr("id",r+"_counter").append(n).append(" "+o.setMsg());t.container_class&&t.container_class.length&&l.addClass(t.container_class),t.target&&i(t.target).length?t.append?i(t.target).append(l):i(t.target).prepend(l):t.append?l.insertAfter(e):l.insertBefore(e),o.bind(e)},bind:function(i){i.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",o.updateCounter),i.bind("keydown.counter",o.doStopTyping),i.trigger("keydown")},isLimitless:function(){return"sky"===t.goal?(t.count="up",a=!0):void 0},setMsg:function(){if(""!==t.msg)return t.msg;if(t.text===!1)return"";if(a)return""!==t.msg?t.msg:"";switch(this.text=t.translation||"character word left max",this.text=this.text.split(" "),this.chars="s ( )".split(" "),this.msg=null,t.type){case"char":t.count===e.count&&t.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2]);break;case"word":t.count===e.count&&t.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(t){return""!==t?i.trim(t).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(a){var l=i(this);(0>r||r>t.goal)&&o.passedGoal(l),t.type===e.type?t.count===e.count?(r=t.goal-l.val().length,0>=r?n.text("0"):n.text(r)):"up"===t.count&&(r=l.val().length,n.text(r)):"word"===t.type&&(t.count===e.count?(r=o.getWords(l.val()),r<=t.goal?(r=t.goal-r,n.text(r)):n.text("0")):"up"===t.count&&(r=o.getWords(l.val()),n.text(r)))},doStopTyping:function(i){var n=[46,8,9,35,36,37,38,39,40,32];return o.isGoalReached(i)&&i.keyCode!==n[0]&&i.keyCode!==n[1]&&i.keyCode!==n[2]&&i.keyCode!==n[3]&&i.keyCode!==n[4]&&i.keyCode!==n[5]&&i.keyCode!==n[6]&&i.keyCode!==n[7]&&i.keyCode!==n[8]?t.type===e.type?!1:i.keyCode!==n[9]&&i.keyCode!==n[1]&&t.type!=e.type?!0:!1:void 0},isGoalReached:function(i,n){return a?!1:t.count===e.count?(n=0,n>=r?!0:!1):(n=t.goal,r>=n?!0:!1)},wordStrip:function(t,e){var n=e.replace(/\s+/g," ").split(" ").length;return e=i.trim(e),0>=t||t===n?e:(e=i.trim(e).split(" "),e.splice(t,n,""),i.trim(e.join(" ")))},passedGoal:function(i){var e=i.val();"word"===t.type&&i.val(o.wordStrip(t.goal,e)),"char"===t.type&&i.val(e.substring(0,t.goal)),"down"===t.type&&n.val("0"),"up"===t.type&&n.val(t.goal)}};return this.each(function(){o.init(i(this))})}})}(jQuery),i.each(function(){var i=$(this),t=$(this).attr("maxlength")?$(this).attr("maxlength"):80;i.counter({container_class:"text-count-wrapper",msg:" / "+t,goal:t,count:"up"}),i.closest(".md-input-wrapper").length&&i.closest(".md-input-wrapper").addClass("md-input-wrapper-count")}))},rangeSlider:function(){$("[data-ion-slider]").ionRangeSlider(),$("#ionslider_movement_limit").ionRangeSlider({type:"double",min:0,max:100,from:20,from_min:10,from_max:30,from_shadow:!0,to:80,to_min:70,to_max:90,to_shadow:!0,grid:!0,grid_num:10}),$("#ionslider_date").ionRangeSlider({min:+moment().subtract(1,"years").format("X"),max:+moment().format("X"),from:+moment().subtract(6,"months").format("X"),force_edges:!0,prettify:function(i){return moment(i,"X").format("LL")}})},adv_selects:function(){$("#user_groups_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#src_zone_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#src_network_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#src_service_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#dst_zone_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#dst_network_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#dst_service_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#snat_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#dnat_select").selectize({plugins:{remove_button:{label:""}},options:[{id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"}],maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(i,t){return'<div class="option"><span class="title">'+t(i.title)+"</span></div>"},item:function(i,t){return'<div class="item"><a href="'+t(i.url)+'" target="_blank">'+t(i.title)+"</a></div>"}},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}});var i="([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)";$("#selec_adv_2").selectize({persist:!1,maxItems:null,valueField:"email",labelField:"name",searchField:["name","email"],options:[{email:"brian@thirdroute.com",name:"Brian Reavis"},{email:"nikola@tesla.com",name:"Nikola Tesla"},{email:"someone@gmail.com"}],render:{item:function(i,t){return"<div>"+(i.name?'<span class="name">'+t(i.name)+"</span>":"")+(i.email?'<span class="email">'+t(i.email)+"</span>":"")+"</div>"},option:function(i,t){var e=i.name||i.email,n=i.name?i.email:null;return'<div><span class="label">'+t(e)+"</span>"+(n?'<span class="caption">'+t(n)+"</span>":"")+"</div>"}},createFilter:function(t){var e,n;return n=new RegExp("^"+i+"$","i"),(e=t.match(n))?!this.options.hasOwnProperty(e[0]):(n=new RegExp("^([^<]*)<"+i+">$","i"),e=t.match(n),e?!this.options.hasOwnProperty(e[2]):!1)},create:function(t){if(new RegExp("^"+i+"$","i").test(t))return{email:t};var e=t.match(new RegExp("^([^<]*)<"+i+">$","i"));return e?{email:e[2],name:$.trim(e[1])}:(alert("Invalid email address."),!1)},onDropdownOpen:function(i){i.hide().velocity("slideDown",{begin:function(){i.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(i){i.show().velocity("slideUp",{complete:function(){i.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}})},masked_inputs:function(){$maskedInput=$(".masked_input"),$maskedInput.length&&$maskedInput.inputmask()}};